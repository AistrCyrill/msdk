{"version":3,"sources":["webpack://PaycoreSDK/webpack/universalModuleDefinition","webpack://PaycoreSDK/webpack/bootstrap","webpack://PaycoreSDK/./src/index.js","webpack://PaycoreSDK/./node_modules/whatwg-fetch/fetch.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","fetch","require","options","apiKey","undefined","Error","message","currency","BASE_URL","request","method","endpoint","data","params","headers","body","JSON","stringify","then","res","json","errors","api","catch","error","post","makePaymentPrerequest","amount","public_key","Content-Type","makePayoutPrerequest","e","__webpack_exports__","Headers","Request","Response","DOMException","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","indexOf","toString","normalizeName","String","test","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","done","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","type","rejected","text","readAsText","chars","length","fromCharCode","join","readArrayBufferAsText","decode","parse","oldValue","has","callback","thisArg","keys","push","values","entries","methods","input","upcased","url","credentials","signal","toUpperCase","referrer","form","trim","split","bytes","replace","decodeURIComponent","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","err","stack","constructor","init","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill"],"mappings":"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","file":"PaycoreSDK.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"PaycoreSDK\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PaycoreSDK\"] = factory();\n\telse\n\t\troot[\"PaycoreSDK\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const { fetch } = require(\"whatwg-fetch\");\n\nfunction SDK(options = {}) {\n  try {\n    let apiKey = options.apiKey ? options.apiKey : undefined;\n    if (!apiKey) {\n      throw new Error({\n        message: \"No API key passed on init\"\n      });\n    }\n\n    let currency = options.currency ? options.currency : undefined;\n    let BASE_URL = options.BASE_URL\n      ? options.BASE_URL\n      : \"https://com-dev.paycore.io/public-api\";\n\n    // REQUESTS\n    /**\n     * API request\n     * @promise\n     * @fulfill {object} paycore data\n     * @reject {Error} Network error (if no connection to API)\n     * @reject {Error} Paycore error (404 or wrong API key)\n     */\n\n    /**\n     * API request for merchant public API\n     * @param  {string} method      The HTTP method to use\n     * @param  {string} endpoint    The API endpoint to request\n     *\n     * @param  {Object} [data={}]   The HTTP request body (non-GET only)\n     * @param  {Object} [params={}] The HTTP query parameters (GET only)\n     *\n     * @param  {string} [headers={}]    The request headers\n     * @return {RequestPromise}\n     */\n\n    const request = (\n      method,\n      endpoint,\n      data = {},\n      params = {},\n      headers = {}\n    ) => {\n      return fetch(endpoint, {\n        method,\n        headers,\n        body: JSON.stringify(data)\n      })\n        .then(res => {\n          //  We use fetch, so we need to convert fetch response to a json\n          return res.json();\n        })\n        .then(data => {\n          debugger;\n          if (data.errors) {\n            throw {\n              api: true,\n              data: data.errors\n            };\n          }\n          return data;\n        })\n        .catch(error => {\n          if (error.api) {\n            throw {\n              message: \"Api error\",\n              error: error.data\n            };\n          } else {\n            throw {\n              error,\n              message: \"Network Error\"\n            };\n          }\n        });\n    };\n\n    const SDK = {\n      BASE_URL,\n      apiKey,\n      currency,\n      // API abstraction\n      request,\n\n      /**\n       * POST  method.\n       * @param  {string} endpoint  The endpoint to post\n       * @param  {Object} [body={}] The HTTP request body\n       * @return {RequestPromise}\n       */\n      post(endpoint, body, headers) {\n        return this.request(\"POST\", endpoint, body, {}, headers);\n      },\n\n      /**\n       * Payment prerequest .\n       * @param  {String} currency  The currency of the amount (3-letter ISO 4217 code). Must be a supported currency.\n       * @param  {Number}  Not required amount, can be null or float\n       * @return {RequestPromise}\n       */\n\n      makePaymentPrerequest(currency, amount) {\n        if (!currency && !this.currency) {\n          throw {\n            message: \"Client Validation Error\",\n            error: \"No currency passed\"\n          };\n        }\n        const body = {\n          public_key: this.apiKey,\n          currency: currency ? currency : this.currency ? this.currency : null,\n          amount\n        };\n        return this.post(`${this.BASE_URL}/payment-prerequest`, body, {\n          \"Content-Type\": \"application/json\"\n        });\n      },\n\n      /**\n       * Payment prerequest .\n       * @param  {String} currency  The currency of the amount (3-letter ISO 4217 code). Must be a supported currency.\n       * @param  {Number}  Not required amount, can be null or float\n       * @return {RequestPromise}\n       */\n\n      makePayoutPrerequest(currency, amount) {\n        if (!currency) {\n          throw {\n            message: \"Client Validation Error\",\n            error: \"No currency passed\"\n          };\n        }\n        const body = {\n          public_key: this.apiKey,\n          currency,\n          amount\n        };\n        return this.post(`${this.BASE_URL}/payout-prerequest`, body, {\n          \"Content-Type\": \"application/json\"\n        });\n      }\n    };\n\n    return SDK;\n  } catch (e) {\n    throw e;\n    console.error(\"Error\", e.message);\n  }\n}\n\nmodule.exports = SDK;\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n"],"sourceRoot":""}